<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rating Component</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Overpass:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="card">
        <div class="content">
            <div class="icon">
                <img src="img/favorite-icon.png" alt="">
            </div>
            <h1>How did we do?</h1>
            <p>Please let us know how we did with your support request. All feedback is appreciated to help us improve
                our
                offering!</p>
            <div id="rating">

            </div>
            <button onclick="onSubmit()" class="submit-button">SUBMIT</button>
        </div>
        <div class="greetings d-none">
            <img src="img/illustration-thank-you.svg" alt="">
            <span class="greetings-text">You selected&nbsp;
                <span class="value-selected">

                </span>
                &nbsp;out of 5
            </span>
            <h1>Thank You</h1>
            <p>We appreciate you taking the time to give a rating.
                if you ever need more support, don't hesitate to
                get in touch!
            </p>
        </div>
    </div>

</body>
<script>


    var ratingItems = ['1', '2', '3', '4', '5'];
    var rating = document.querySelector('#rating');
    rating.innerHTML = '<ul>' + ratingItems.map(function (rating) {
        return '<a class="rating-selection" href="#">' + '<li>' + rating + '</li>' + '<a href="#">';
    }).join('') + '</ul>';

    const ratingSelection = document.querySelectorAll(".rating-selection");
    let optionSelected = "0";

    for (var i = 0; i < ratingItems.length; i++) {
        ratingSelection[i].addEventListener("click", function (event) {
            var current = document.getElementsByClassName("active");
            if (current.length > 0) {
                current[0].className = current[0].className.replace(" active", "");
            }
            this.className += " active";
            getValue(event.target.innerText);
        });

    }

    function getValue(value) {
        console.log(value)
        optionSelected = value
    }

    function onSubmit() {
        console.log(optionSelected)
        var layout = document.querySelector(".content");
        var greetings = document.querySelector(".greetings");
        document.querySelector(".value-selected").innerHTML = optionSelected
        layout.classList.add("d-none")
        greetings.classList.remove("d-none")
    }

</script>

</html>